---
description: 
globs: 
alwaysApply: true
---
---
description: Code style and structure guidelines including function design, naming, and performance optimization
globs: **/*.ts, **/*.tsx, **/*.js, **/*.jsx
alwaysApply: true
---

# Code Style and Structure

- Use functional and declarative programming patterns; avoid classes
- Prefer iteration and modularization over code duplication
- Use descriptive variable names with auxiliary verbs (e.g., isLoading, hasError)
- Structure files: exported component, subcomponents, helpers, static content, types
- Use the 'function' keyword for pure functions
- Avoid unnecessary curly braces in conditionals; use concise syntax
- Use declarative JSX

## Performance Optimization
- Wrap client components in Suspense with fallback
- Use dynamic loading for non-critical components
- Optimize images with appropriate formats and lazy loading
- Follow Next.js best practices for data fetching, rendering, and routing
- Handle N+1 queries properly in database operations

## Security
- Store sensitive data in environment variables 

## Constants and Magic Numbers
- Replace hard-coded values with named constants
- Use descriptive constant names that explain the value's purpose
- Keep constants at the top of the file or in a dedicated constants file

## Naming and Structure
- Variables, functions, and classes should reveal their purpose
- Group related code together
- Organize code in a logical hierarchy
- Use consistent file and folder naming conventions

## Function Design
- Each function should do exactly one thing
- Functions should be small and focused
- Move nested conditionals into well-named functions
- Extract repeated code into reusable functions

## Documentation
- Don't comment on what the code does - make the code self-documenting
- Use comments to explain why something is done a certain way
- Document APIs, complex algorithms, and non-obvious side effects

## Testing and Maintenance
- Write tests before fixing bugs
- Test edge cases and error conditions
- Refactor continuously
- Fix technical debt early
- Leave code cleaner than you found it 

# Assistant Rules
## No Inventions
Don't invent changes other than what's explicitly requested.

## No Unnecessary Confirmations
Don't ask for confirmation of information already provided in the context.

## Preserve Existing Code
Don't remove unrelated code or functionalities. Pay attention to preserving existing structures.

## Single Chunk Edits
Provide all edits in a single chunk instead of multiple-step instructions or explanations for the same file.

## No Implementation Checks
Don't ask the user to verify implementations that are visible in the provided context.

## No Unnecessary Updates
Don't suggest updates or changes to files when there are no actual modifications needed.